#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct{
  char rua[51];
  char bairro[51];
  long cep;
}TEndereco;

typedef struct{
  long codigo;
  char nome[51];
  long idade;
  float salario;
  TEndereco endereco;

}TCliente;

void imprimeCliente(TCliente *cliente){
  printf("\n");
  printf("Nome: %s\n",cliente->nome);
  printf("Código: %ld\n",cliente->codigo);
  printf("Idade: %ld\n",cliente->idade);
  printf("Salário: %.2lf\n",cliente->salario);
  printf("Rua: %s\n",cliente->endereco.rua);
  printf("Bairro: %s\n",cliente->endereco.bairro);
  printf("CEP: %ld\n",cliente->endereco.cep);
}

void lerCliente(TCliente *cliente){
  printf("\nCadastrar novo cliente\n---------------\nDigite o nome:\n");
  scanf(" %[^\n]s",cliente->nome);
  printf("Digite o código:\n");
  scanf("%ld",&cliente->codigo);
  printf("Digite a idade:\n");
  scanf("%ld",&cliente->idade);
  printf("Digite o salário:\n");
  scanf("%f",&cliente->salario);
  printf("Digite a rua:\n");
  scanf(" %[^\n]s",cliente->endereco.rua);
  printf("Digite o bairro:\n");
  scanf(" %[^\n]s",cliente->endereco.bairro);
  printf("Digite o CEP:\n");
  scanf("%ld",&cliente->endereco.cep);
}

void alterarEndereco(TCliente *cliente){
  printf("Digite a rua:\n");
  scanf(" %[^\n]s",cliente->endereco.rua);
  printf("Digite o bairro:\n");
  scanf(" %[^\n]s",cliente->endereco.bairro);
  printf("Digite o CEP:\n");
  scanf("%ld",&cliente->endereco.cep);
}


int main(){
  int num;
  while(1){
    TCliente cliente;
    TCliente *ponteiro;
    ponteiro = (TCliente*)malloc(sizeof(TCliente));
    ponteiro = &cliente;
    if(ponteiro==NULL) {printf("Memória insuficiente"); return 0;}
    printf("\nMENU PRINCIPAL\n---------------\n1 - Cadastrar novo cliente\n2 - Ver dados de cliente\n3 - Alterar endereço\n4 - Destruir cliente\n5 - Sair\nDigite sua opção: ");
    scanf("%d",&num);
    if(num==5) break;
    else if(num==1){
      lerCliente(ponteiro);
    }
    else if(num==2){
      imprimeCliente(ponteiro);
    }
    else if(num==3){
      alterarEndereco(ponteiro);
    }
    else if(num==4){
      free(ponteiro);
    }
  }

}

